--- udev-installer.sh.orig	2016-07-15 02:04:08.000000000 -0500
+++ udev-installer.sh	2016-09-29 06:37:52.000000000 -0500
@@ -3,16 +3,23 @@
 
 create_udev_rules_file()
 {
-  displaylink_rules_file="$1"
-cat > $displaylink_rules_file  <<'EOF'
+    displaylink_rules_file="$1"
+    displaylink_bootstrap_script="$2"
+    # siehe http://tldp.org/LDP/abs/html/string-manipulation.html
+    # alle / durch \/ ersetzen
+    displaylink_bootstrap_script_text=${displaylink_bootstrap_script//\//\\\/}
+    
+    cat > $displaylink_rules_file  <<'EOF'
 # Copyright (c) 2016 DisplayLink (UK) Ltd.
 # File autogenerated by udev-installer.sh script
 
-ACTION=="add", SUBSYSTEM=="usb", DRIVERS=="usb", ATTRS{idVendor}=="17e9", ATTR{bInterfaceClass}=="ff", ATTR{bInterfaceProtocol}=="03", ENV{ID_DISPLAYLINK_DEVICE}="1", RUN+="/opt/displaylink/udev.sh START"
-ACTION=="remove", ENV{ID_DISPLAYLINK_DEVICE}=="1", RUN+="/opt/displaylink/udev.sh STOP $env{DEVPATH}"
+#ACTION=="add", SUBSYSTEM=="usb", DRIVERS=="usb", ATTRS{idVendor}=="17e9", ATTR{bInterfaceClass}=="ff", ATTR{bInterfaceProtocol}=="03", ENV{ID_DISPLAYLINK_DEVICE}="1", RUN+="displaylink_bootstrap_script START"
+ACTION=="add", SUBSYSTEM=="usb", DRIVERS=="usb", ATTRS{idVendor}=="17e9", ATTR{bInterfaceClass}=="ff", ENV{ID_DISPLAYLINK_DEVICE}="1", RUN+="displaylink_bootstrap_script START"
+ACTION=="remove", ENV{ID_DISPLAYLINK_DEVICE}=="1", RUN+="displaylink_bootstrap_script STOP $env{DEVPATH}"
 EOF
 
-  chmod 0644 $displaylink_rules_file
+    sed -i -r -e "s/displaylink_bootstrap_script/$displaylink_bootstrap_script_text/g" $displaylink_rules_file
+    chmod 0644 $displaylink_rules_file
 }
 
 systemd_start_stop_functions()
@@ -147,7 +154,7 @@
   rules_path=$2
   udev_script_path=$3
   create_bootstrap_file $init_daemon $udev_script_path
-  create_udev_rules_file $rules_path
+  create_udev_rules_file $rules_path $udev_script_path
 }
 
 if [ "$#" = "3" ]; then
